<!DOCTYPE html>
<html>
	<head>
		<title>Ejercicios de Javascript</title>
		<noscript>
			Este navegador no tiene activada la ejecución de Javascript y su contenido no será visualizado correctamente.
		</noscript>
		<script>
			//abre ventana nueva con url y dimensiones indicadas
			//window.open("http://www.google.es","","width=300,height=150,menubar=no");
			
			//abre una caja de dialogo de alerta sin botones
			//window.alert("Mensaje de alerta");	
			
			//almacena en variable nombre lo escrito por el usuario con prompt
			//var nombre = prompt("Escriba su nombre: ","");
			//var genero = prompt("Cual es su género (M o H): ","");
			
			//var letras = ['T', 'R', 'W', 'A', 'G', 'M', 'Y', 'F', 'P', 'D', 'X', 'B', 'N', 'J', 'Z', 'S', 'Q', 'V', 'H', 'L', 'C', 'K', 'E', 'T'];

			//CALCULO LETRA DNI DADO EL NUMERO
			/*var dni = prompt("Escriba su número de DNI sin letra","");
			if(dni < 0 || dni > 99999999){
				window.alert("El DNI proporcionado no es válido");
			} else {
				var letra = letras[dni%23];
				window.alert("Su DNI completo es: "+dni+letra);
			}*/
			
			//VERIFICACION NIF DADO EL NIF COMPLETO
			/*var nif = prompt("Escriba su número de NIF completo","");
			var numeroNif = nif.substr(0,nif.length - 1);			
			var letraNif = nif.substr(nif.length - 1);
			window.alert("La letra indicada es: "+letraNif);
			window.alert("El número indicado es: "+numeroNif);			
			if(numeroNif < 0 || numeroNif > 99999999){
				window.alert("El NIF proporcionado no es válido");
			} else {
				var letraN = letras[numeroNif%23];
				window.alert("La letraN es: "+letraN);				
				if(letraNif == letraN){
					window.alert("Su NIF es correcto");				
				} else {
					window.alert("Su NIF no es correcto");				
				}
			} */
			
			//FACTORIAL DE UN NUMERO
			/*var numeroF = prompt("Escriba el número para calcular su factorial","");
			var factorial = 1;
			for (var i = 1; i <= numeroF;i++){
				factorial = factorial * i;
			}
			window.alert("El "+numeroF+"! = "+factorial);*/
			var numfact = prompt("Escriba el número del que desee hallar calcular el factorial: ","");
			function factorial(num){
				var fac= 1;
				for (var i = 1; i <= num;i++){
					fac = fac * i;
				}		
				return fac;
			}
			
		</script>	

	</head>
	<body>
		<h1>Página 1</h1>
		<!-- <p>Bienvenido <script>document.write(nombre)</script></p> -->
		<p id="elnombreDon">El nombre</p>
		<b><script>document.write(new Date());</script></b>
		<!-- con un click nos dirigimos a la url indicada por location.href -->
		<input type="button" value="Ir a página 2" onclick="location.href = 'dos.html'"/>
		<p id="factorial"></p>		
		<script>
			//este script solo puede ponerse después del id donde va a ser utilizado, sino no funciona
			//el motivo es la forma en que se carga la página y la llamada al innerHTML con un id ya existente
			var nombreConDon = "Eres un Don?";
			document.getElementById("elnombreDon").innerHTML = nombreConDon;	
			document.getElementById("factorial").innerHTML = "El factorial de 8 es " + factorial(numfact);
		</script>
		<p>Por favor entra un número del 5 al 10:</p>

		<input id="demo" type="text" onblur="myFunction()">
		<button type="button">Test Input</button>
		<p id="message"></p>		
		<script>
			//VALIDACIONES PROPIAS CON TRY CATCH
			function myFunction() {
				var message, x;
				message = document.getElementById("message");
				message.innerHTML = "";
				x = document.getElementById("demo").value;
				try { 
					x = Number(x);
					if(x == "") throw "empty";
					if(isNaN(x)) throw "not a number"; 
					if(x > 10)   throw "too high";
					if(x < 5)    throw "too low";
					//document.getElementById("demo").value = ""; //borramos el dato intorducido si es incorrecto y lo mantenemos en caso contrario
				}
				catch(err) {
					message.innerHTML = "Input is " + err;
				}
				/*finally {
					document.getElementById("demo").value = ""; //con finally obligamos a borrar el dato introducido sea correcto o incorrecto
				}*/				
			}
		</script>		
</body>
</html>